"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9290],{9290:function(e,n,t){t.r(n);var a=t(4051),r=t.n(a),s=t(5893),i=t(7294),l=t(9669),o=t.n(l),c=t(7513),u=t(4853),d=t(1358),p=t.n(d);function x(e,n,t,a,r,s,i){try{var l=e[s](i),o=l.value}catch(c){return void t(c)}l.done?n(o):Promise.resolve(o).then(a,r)}function h(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var s=e.apply(n,t);function i(e){x(s,a,r,i,l,"next",e)}function l(e){x(s,a,r,i,l,"throw",e)}i(void 0)}))}}n.default=function(e){var n=e.comments,t=e.id,a=e.link,l=e.admin,d=e.type,x=e.reCaptcha,m=(0,i.useState)(""),f=m[0],g=m[1],w=(0,i.useContext)(c.Z).find,v=(0,i.useState)(""),b=v[0],j=v[1],y=(0,i.useState)(""),C=y[0],k=y[1],S=(0,i.useState)(""),N=S[0],R=S[1],_=(0,i.useState)(!1),M=_[0],E=_[1],I=(0,i.useState)("false"),P=I[0],W=I[1],z=(0,i.useState)(!1),B=z[0],D=z[1],L=(0,i.useState)(null),Z=L[0],F=L[1],O=(0,i.useState)(""),T=O[0],V=O[1],X=(0,i.useState)(7)[0],q=(0,i.useState)(0),A=q[0],G=q[1],H=(0,i.useState)(0),J=H[0],K=H[1],Q=(0,i.useRef)(null);function U(){return(U=h(r().mark((function e(s){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),E(!0),i={name:N,email:C,des:f,id:t,answer:b,captcha:T},e.prev=3,e.next=6,o().put("http://dreamweb.runflare.run/comment/".concat(a),i,{withCredentials:!0}).then((function(e){e.data.errMessage&&W(e.data),E(!1),e.data.errMessage||(D(!0),W("false"),n.push(e.data))}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),E(!1);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}(0,i.useEffect)((function(){F(n),K(Math.ceil(n.slice(0,30).length/X))}),[]);var Y=function(){var e=h(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(Z.filter((function(e){return e._id!==n}))),a={newComments:Z,id:t},o().post("http://dreamweb.runflare.run/adminRoute/removeComment/".concat(d),a,{withCredentials:!0}).then((function(e){alert(e.data.Message)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=["new-comment"];w.username&&($=["new-comment","newCommentInput"]);var ee,ne,te,ae=Z&&Z.slice(A,A+X),re=function(){var e;null===(e=Q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"hole-comment",children:[!0===B&&(0,s.jsx)("div",{onClick:function(){return D(!1)},id:"backDrop",children:"hello"}),(0,s.jsxs)("div",{id:"hh",style:{width:"100%",height:"10%",display:"flex",alignItems:"center",opacity:"0.8",padding:"5px"},children:[(0,s.jsx)("img",{src:"/uploads/conversation.png",style:{width:"35px",margin:"8px",marginRight:"0px"},alt:"message"}),(0,s.jsx)("p",{style:{fontWeight:"600"},children:"\u062f\u06cc\u062f\u06af\u0627\u0647"})]}),(0,s.jsxs)("div",{id:"newComment",className:$.join(" "),children:[b&&(0,s.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#eceef3",padding:"0px 6px",borderRadius:"10px"},children:[(0,s.jsxs)("p",{children:["\u067e\u0627\u0633\u062e \u0628\u0647 ",b]}),(0,s.jsx)("p",{onClick:function(){return j(!1)},style:{fontWeight:"600",cursor:"pointer"},children:"X"})]}),(0,s.jsxs)("div",{style:{marginTop:"10px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("input",{value:w?w.username:null,style:"all"===P.err||"name"===P?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",onChange:function(e){return R(e.target.value)}}),(0,s.jsx)("input",{value:w?w.email:null,style:"all"===P.err||"email"===P?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u0627\u06cc\u0645\u06cc\u0644",onChange:function(e){return k(e.target.value)}})]}),(0,s.jsx)("textarea",(ee={value:B?"":null,style:"all"===P.err?{border:"1px solid red",boxShadow:" 0px 2px 8px rgba(231, 13, 13, 0.1) , 0px 0px 15px rgba(197, 75, 75, 0.1)"}:null,placeholder:"\u062f\u06cc\u062f\u06af\u0627\u0647 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f...",onChange:function(e){return g(e.target.value)}},ne="value",te=f,ne in ee?Object.defineProperty(ee,ne,{value:te,enumerable:!0,configurable:!0,writable:!0}):ee[ne]=te,ee)),(0,s.jsx)("div",{ref:Q}),(0,s.jsx)(u.Z,{sitekey:x,onChange:function(e){return V(e)}}),(0,s.jsx)("button",{disabled:M,onClick:function(e){return U.apply(this,arguments)},children:"\u0627\u0631\u0633\u0627\u0644 \u062f\u06cc\u062f\u06af\u0627\u0647"}),P.errMessage&&(0,s.jsx)("p",{style:{color:"red",fontWeight:"600",background:"#eceff2",padding:"5px",borderRadius:"5px"},children:P.errMessage})]}),(0,s.jsx)("hr",{style:{width:"100%",margin:"20px",backgroundColor:"silver",height:"1px",opacity:"0.5"}}),(0,s.jsxs)("div",{className:"comments",children:[ae&&ae.map((function(e){return(0,s.jsxs)("div",{style:e.answer&&"false"!==e.answer?{marginRight:"5%",background:"#6e787f"}:null,className:"mess",children:[e.answer&&"false"!==e.answer&&(0,s.jsx)("img",{id:"reply-arrow",src:"/uploads/reply.png",alt:"reply"}),(0,s.jsxs)("div",{className:e.answer&&"false"!==e.answer?"c-top-answer":"c-top",style:e.admin?{background:"#0d2040",color:"white"}:null,children:[(0,s.jsx)("p",{style:{fontSize:"13px",opacity:"0.5",marginRight:"0%"},children:e.time}),(0,s.jsxs)("div",{children:[e.answer&&"false"!==e.answer&&(0,s.jsxs)("p",{style:e.answer&&"false"!==e.answer?{fontSize:"14px",backgroundColor:"#6e787f",width:"max-content",marginBottom:"4px 0px",padding:"2px 8px",color:"white",borderRadius:"5px"}:{fontSize:"14px",backgroundColor:"white",width:"max-content",marginBottom:"4px 0px",padding:"2px 8px",borderRadius:"5px"},children:["\u067e\u0627\u0633\u062e \u0628\u0647 ",e.answer&&e.answer]}),(0,s.jsx)("p",{style:{fontWeight:"600"},children:e.name})]}),(0,s.jsx)("img",{src:(e.admin,"/uploads/user.png"),alt:"user"})]}),(0,s.jsx)("p",{style:e.answer&&"false"!==e.answer?{color:"white"}:null,children:e.des}),"false"===e.answer&&(0,s.jsx)("a",{href:"#hh",onClick:function(){return j(e.name)},children:"\u067e\u0627\u0633\u062e"}),l&&(0,s.jsx)("img",{onClick:function(){return Y(e._id)},src:"/images/cancel (1).png",alt:"delete",style:{position:"absolute",left:"-35px",top:"-5px",width:"20px",height:"20px",cursor:"pointer",pointerEvents:"all"}})]},e._id)})),J>1&&(0,s.jsx)("div",{className:"comment-paginate",children:(0,s.jsx)(p(),{nextLabel:">",previousLabel:"<",pageCount:J,disabledClassName:"dis",onPageChange:function(e){var n=e.selected;G(n+1),re()},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})})]}),B&&(0,s.jsxs)("div",{className:"secc-comment",children:[(0,s.jsx)("img",{src:"/uploads/accept.png",alt:""}),(0,s.jsx)("h1",{children:"\u062f\u06cc\u062f\u06af\u0627\u0647 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0631\u0633\u0627\u0644 \u0634\u062f !"}),(0,s.jsx)("button",{onClick:function(){g(""),R(""),k(""),D(!1)},children:"\u0645\u062a\u0648\u062c\u0647 \u0634\u062f\u0645"})]})]})})}}}]);